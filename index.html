<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–∑ –ö–∏—Ç–∞—è —Å –ª—é–±–æ–≤—å—é üá®üá≥ - –°–∏—Å—Ç–µ–º–∞ –∑–∞–∫–∞–∑–æ–≤</title>
    <link rel="icon" type="image/jpeg" href="https://i.ibb.co/7dr90zXz/photo-2025-12-06-23-12-26.jpg">
    <!-- TailwindCSS via browser CDN (safe for production prototype) -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        .hidden { display: none; }
        body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            max-width: 900px;
            max-height: 85vh;
            overflow-y: auto;
            margin: 1rem;
            width: 95%;
        }
        .toast-container {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 2000;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .toast {
            min-width: 240px;
            max-width: 320px;
            padding: 0.9rem 1.1rem;
            border-radius: 1rem;
            color: white;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            box-shadow: 0 10px 25px rgba(15,23,42,0.2);
            animation: slide-in 0.3s ease, fade-out 0.4s ease 4.6s forwards;
            font-size: 0.95rem;
        }
        .toast-success { background: linear-gradient(135deg, #22c55e, #16a34a); }
        .toast-error { background: linear-gradient(135deg, #ef4444, #dc2626); }
        .toast-info { background: linear-gradient(135deg, #3b82f6, #2563eb); }
        .toast-warning { background: linear-gradient(135deg, #f97316, #ea580c); }
        @keyframes slide-in {
            from { transform: translateX(120%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes fade-out {
            to { opacity: 0; transform: translateX(120%); }
        }

        /* Responsive tweaks */
        @media (max-width: 1024px) {
            .lg\:grid-cols-3 { grid-template-columns: 1fr !important; }
            .lg\:grid-cols-2 { grid-template-columns: 1fr !important; }
            .lg\:col-span-2 { grid-column: span 1 / span 1 !important; }
            .admin-actions { flex-direction: column; align-items: stretch; gap: 0.5rem; }
        }
        @media (max-width: 768px) {
            body { padding: 12px !important; }
            .max-w-6xl { padding-left: 0; padding-right: 0; }
            .modal-content { width: 100%; max-height: 88vh; padding: 1.25rem; }
            .order-card-grid { grid-template-columns: 1fr !important; }
            .stack-sm { flex-direction: column; align-items: flex-start; gap: 0.75rem; }
            .w-full-mobile { width: 100%; }
        }
        @media (max-width: 480px) {
            .modal-content { padding: 1rem; }
            .p-6 { padding: 1.25rem !important; }
            .p-8 { padding: 1.5rem !important; }
            h1, .text-3xl { font-size: 1.6rem !important; }
            h2, .text-2xl { font-size: 1.3rem !important; }
        }
        /* Extra polish for phones (iOS/Android) */
        @media (max-width: 640px) {
            body { padding: 10px !important; }
            .modal-content { max-height: 88vh; border-radius: 1.5rem; }
            .max-w-6xl { padding-left: 0; padding-right: 0; }
            .grid { gap: 1rem; }
            .flex { gap: 0.75rem; }
            .btn-full-mobile { width: 100% !important; }
            .stack-mobile, .admin-actions { flex-direction: column !important; align-items: stretch !important; }
            .order-card-grid { grid-template-columns: 1fr !important; }
            .text-balance { text-wrap: balance; }
            input, select, textarea, button { font-size: 16px !important; } /* —É–±–∏—Ä–∞–µ—Ç –∑—É–º –Ω–∞ iOS */
        }
    </style>
</head>
<body class="p-4">
    <div id="toastContainer" class="toast-container"></div>
    <div class="max-w-6xl mx-auto">
        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
        <div id="loginView" class="relative max-w-md mx-auto mt-12">
            <div class="absolute -inset-0.5 bg-gradient-to-r from-purple-400 via-pink-400 to-indigo-500 rounded-3xl opacity-60 blur-lg"></div>
            <div class="relative bg-white/80 backdrop-blur-xl border border-white/70 rounded-3xl shadow-2xl p-8">
                <div class="flex flex-col items-center mb-6">
                    <div class="w-20 h-20 rounded-2xl bg-gradient-to-tr from-purple-500 to-red-400 p-1 shadow-xl mb-3">
                        <img src="https://i.ibb.co/7dr90zXz/photo-2025-12-06-23-12-26.jpg" alt="–õ–æ–≥–æ—Ç–∏–ø" class="w-full h-full object-cover rounded-2xl border border-white/70">
                    </div>
                    <h1 class="text-2xl font-extrabold text-purple-800 tracking-tight text-center">üá®üá≥ –ò–∑ –ö–∏—Ç–∞—è —Å –ª—é–±–æ–≤—å—é üá®üá≥</h1>
                    <p class="mt-2 text-xs text-gray-500 text-center max-w-xs">–ó–∞–∫—Ä—ã—Ç—ã–π –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –∏–∑ –ö–∏—Ç–∞—è.</p>
                </div>

                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-lg font-semibold text-gray-800 flex items-center gap-2">
                        <span class="w-8 h-8 rounded-xl bg-purple-100 text-purple-600 flex items-center justify-center text-lg">üîë</span>
                        <span>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</span>
                    </h2>
                    <span class="text-[11px] uppercase tracking-wide text-gray-400 bg-gray-50 px-2 py-1 rounded-full border">–¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤</span>
                </div>

                <form id="loginForm" class="space-y-4">
                    <div>
                        <label class="block text-xs font-semibold mb-1 text-gray-600">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <div class="relative">
                            <span class="absolute left-3 top-2.5 text-gray-400 text-sm">üì±</span>
                            <input type="tel" id="loginPhone" required
                                class="w-full pl-9 pr-3 py-2.5 text-sm border border-gray-200 rounded-xl bg-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 outline-none transition shadow-sm"
                                placeholder="+375 (29) ___-__-__">
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-semibold mb-1 text-gray-600">–ü–∞—Ä–æ–ª—å</label>
                        <div class="relative">
                            <span class="absolute left-3 top-2.5 text-gray-400 text-sm">üîí</span>
                            <input type="password" id="loginPassword" required
                                class="w-full pl-9 pr-10 py-2.5 text-sm border border-gray-200 rounded-xl bg-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 outline-none transition shadow-sm">
                        </div>
                    </div>
                    <button type="submit"
                        class="w-full mt-2 bg-gradient-to-r from-purple-600 via-fuchsia-600 to-indigo-600 text-white py-2.5 rounded-xl text-sm font-semibold shadow-lg shadow-purple-300 hover:shadow-xl hover:from-purple-700 hover:to-indigo-700 transition transform hover:-translate-y-0.5">
                        –í–æ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
                    </button>
                </form>

                <div class="mt-5 flex flex-col gap-2 text-center text-xs">
                    <button onclick="showRegister()" class="text-purple-700 font-medium hover:text-purple-900 hover:underline">
                        –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                    </button>
                    <button onclick="showAdminLogin()" class="text-gray-500 hover:text-gray-700 hover:underline">
                        –í—Ö–æ–¥ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
                    </button>
                </div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
        <div id="registerView" class="hidden relative max-w-md mx-auto mt-16">
            <div class="absolute -inset-0.5 bg-gradient-to-r from-pink-400 via-purple-500 to-indigo-600 rounded-3xl opacity-60 blur-lg"></div>
            <div class="relative bg-white/80 backdrop-blur-xl border border-white/70 rounded-3xl shadow-2xl p-8">
                <div class="flex flex-col items-center mb-6 text-center">
                    <div class="w-20 h-20 rounded-2xl bg-gradient-to-tr from-purple-500 to-red-400 p-1 shadow-xl mb-3">
                        <img src="https://i.ibb.co/7dr90zXz/photo-2025-12-06-23-12-26.jpg" alt="–õ–æ–≥–æ—Ç–∏–ø" class="w-full h-full object-cover rounded-2xl border border-white/70">
                    </div>
                    <p class="text-[11px] uppercase tracking-[0.2em] text-purple-500 font-semibold">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</p>
                    <h1 class="text-2xl font-extrabold text-purple-800 tracking-tight">üá®üá≥ –ò–∑ –ö–∏—Ç–∞—è —Å –ª—é–±–æ–≤—å—é üá®üá≥</h1>
                    <p class="mt-2 text-xs text-gray-500 max-w-xs">–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç, —á—Ç–æ–±—ã –æ—Ñ–æ—Ä–º–∏—Ç—å –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑, –∑–∞–≥—Ä—É–∑–∏—Ç—å —á–µ–∫–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å—ã.</p>
                </div>

                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-lg font-semibold text-gray-800 flex items-center gap-2">
                        <span class="w-8 h-8 rounded-xl bg-purple-100 text-purple-600 flex items-center justify-center text-lg">üìù</span>
                        <span>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span>
                    </h2>
                    <span class="text-[11px] uppercase tracking-wide text-gray-400 bg-gray-50 px-2 py-1 rounded-full border">–Ω–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç</span>
                </div>

                <form id="registerForm" class="space-y-4">
                    <div>
                        <label class="block text-xs font-semibold mb-1 text-gray-600">–§–ò–û *</label>
                        <div class="relative">
                            <span class="absolute left-3 top-2.5 text-gray-400 text-sm">üë§</span>
                            <input type="text" id="regFullName" required
                                class="w-full pl-9 pr-3 py-2.5 text-sm border border-gray-200 rounded-xl bg-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 outline-none transition shadow-sm"
                                placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á">
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-semibold mb-1 text-gray-600">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                        <div class="relative">
                            <span class="absolute left-3 top-2.5 text-gray-400 text-sm">üì±</span>
                            <input type="tel" id="regPhone" required
                                class="w-full pl-9 pr-3 py-2.5 text-sm border border-gray-200 rounded-xl bg-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 outline-none transition shadow-sm"
                                placeholder="+375 (29) ___-__-__">
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-semibold mb-1 text-gray-600">–ù–∏–∫ –≤ Telegram *</label>
                        <div class="relative">
                            <span class="absolute left-3 top-2.5 text-gray-400 text-sm">‚úàÔ∏è</span>
                            <input type="text" id="regTelegram" required
                                class="w-full pl-9 pr-3 py-2.5 text-sm border border-gray-200 rounded-xl bg-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 outline-none transition shadow-sm"
                                placeholder="@username">
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-semibold mb-1 text-gray-600">–ü–∞—Ä–æ–ª—å *</label>
                        <div class="relative">
                            <span class="absolute left-3 top-2.5 text-gray-400 text-sm">üîí</span>
                            <input type="password" id="regPassword" required minlength="6"
                                class="w-full pl-9 pr-10 py-2.5 text-sm border border-gray-200 rounded-xl bg-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 outline-none transition shadow-sm"
                                placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤">
                        </div>
                    </div>
                    <button type="submit"
                        class="w-full mt-2 bg-gradient-to-r from-purple-600 via-fuchsia-600 to-indigo-600 text-white py-2.5 rounded-xl text-sm font-semibold shadow-lg shadow-purple-300 hover:shadow-xl hover:from-purple-700 hover:to-indigo-700 transition transform hover:-translate-y-0.5">
                        –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
                    </button>
                </form>

                <div class="mt-5 text-center text-xs flex flex-col gap-2">
                    <button onclick="showLogin()" class="text-purple-700 font-medium hover:text-purple-900 hover:underline">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏</button>
                    <p class="text-gray-400">–ù–∞–∂–∏–º–∞—è ¬´–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç¬ª, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –¥–æ–≥–æ–≤–æ—Ä–æ–º-–æ—Ñ–µ—Ä—Ç–æ–π.</p>
                </div>
            </div>
        </div>

        <!-- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ -->
        <div id="clientView" class="hidden space-y-6">
            <!-- Hero -->
            <div class="relative overflow-hidden rounded-3xl bg-gradient-to-br from-purple-900 via-indigo-900 to-black text-white p-6 lg:p-8 shadow-2xl">
                <div class="absolute inset-0 opacity-20" style="background: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.25), transparent 35%), radial-gradient(circle at 80% 10%, rgba(255,255,255,0.2), transparent 30%), radial-gradient(circle at 60% 70%, rgba(255,255,255,0.15), transparent 30%);"></div>
                <div class="relative flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6">
                    <div class="flex items-center gap-4">
                        <div class="w-16 h-16 rounded-2xl bg-white/10 border border-white/10 flex items-center justify-center text-3xl shadow-lg">üíé</div>
                        <div>
                            <p class="text-sm text-purple-200">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å,</p>
                            <h1 class="text-3xl font-extrabold" id="clientName">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
                            <p class="text-sm text-purple-200">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –∑–∞–∫–∞–∑–∞–º–∏ –≤ –æ–¥–∏–Ω –∫–ª–∏–∫</p>
                        </div>
                    </div>
                    <button onclick="logout()" class="relative px-6 py-3 bg-white text-purple-800 rounded-2xl font-semibold shadow-xl hover:shadow-2xl transition transform hover:-translate-y-0.5">–í—ã–π—Ç–∏</button>
                </div>
            </div>

            <div class="grid lg:grid-cols-3 gap-6">
                <!-- –§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞ -->
                <div class="lg:col-span-2 space-y-6">
                    <div class="bg-white/80 backdrop-blur rounded-2xl shadow-2xl border border-white/40 p-6">
                        <div class="flex items-center gap-2 mb-4">
                            <span class="text-2xl">üõí</span>
                            <h2 class="text-2xl font-bold text-gray-800">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑</h2>
                        </div>

                        <!-- –ü—Ä–∏—ë–º –∑–∞–∫–∞–∑–æ–≤ -->
                        <div class="bg-purple-50 p-4 rounded-xl mb-4 border border-purple-200">
                            <h3 class="font-bold text-purple-800 flex items-center gap-2 mb-2">
                                <span>üì¶</span> –ü—Ä–∏—ë–º –∑–∞–∫–∞–∑–æ–≤
                            </h3>
                            <ul class="text-sm text-purple-800 space-y-1">
                                <li>üöõ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∑–∞–∫–∞–∑—ã –æ—Ç 10 –∫–≥ –º–æ–∂–Ω–æ –æ—Ñ–æ—Ä–º–ª—è—Ç—å –≤ –ª—é–±–æ–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ ‚Äî –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.</li>
                                <li>üì¶ –ú–µ–ª–∫–∏–µ –∑–∞–∫–∞–∑—ã –¥–æ 10 –∫–≥ –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–Ω–∏ ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏—ë–º–∞ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ Telegram-–≥—Ä—É–ø–ø–µ.</li>
                            </ul>
                            <a href="https://t.me/from_china_with_love25" target="_blank" class="inline-block mt-3 text-sm font-bold text-purple-600 hover:underline">üëâ –ü–µ—Ä–µ–π—Ç–∏ –≤ –≥—Ä—É–ø–ø—É Telegram</a>
                        </div>

                        <!-- –°—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ -->
                        <div class="bg-amber-50 p-4 rounded-xl mb-4 border border-amber-200">
                            <h3 class="font-bold text-amber-800 flex items-center gap-2 mb-2">
                                <span>‚ö†Ô∏è</span> –ü—Ä–∏–º–µ—Ä–Ω—ã–π —Å—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ —Å–∫–ª–∞–¥–∞ –≤ –ö–∏—Ç–∞–µ: 30‚Äì45 –¥–Ω–µ–π
                            </h3>
                            <p class="text-sm text-amber-800 mb-2">–°–Ω–∞—á–∞–ª–∞ –≥—Ä—É–∑ –ø—Ä–∏–±—ã–≤–∞–µ—Ç –∏–∑ –ö–∏—Ç–∞—è –≤ –ú–æ—Å–∫–≤—É, –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç—Å—è –≤ –ë–µ–ª–∞—Ä—É—Å—å:</p>
                            <ul class="text-sm text-amber-800 space-y-1 list-disc list-inside ml-2">
                                <li>–ê–≤—Ç–æ–ª–∞–π—Ç –Ω–∞ –≤–∞—à –∞–¥—Ä–µ—Å ‚Äî –µ—Å–ª–∏ –≤–µ—Å –∑–∞–∫–∞–∑–∞ –æ—Ç 10 –∫–≥ –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤.</li>
                                <li>–ï—Å–ª–∏ –≤–µ—Å –¥–æ 10 –∫–≥ ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –ï–≤—Ä–æ–ø–æ—á—Ç–æ–π –∏–ª–∏ –ë–µ–ª–ø–æ—á—Ç–æ–π –∑–∞ —Å—á—ë—Ç –∑–∞–∫–∞–∑—á–∏–∫–∞.</li>
                            </ul>
                            <div class="mt-3 p-3 bg-amber-100 rounded-lg border border-amber-300">
                                <p class="text-xs text-amber-900"><strong>‚ö†Ô∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:</strong> –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–∑–∫–µ –≤–æ–∑–º–æ–∂–Ω—ã —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä—ã –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ, –Ω–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–µ –ø–æ–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ —Å—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏. –¢–∞–∫–∂–µ —è –Ω–µ –Ω–µ—Å—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –ø—Ä–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ ‚Äî —ç—Ç–æ —Ä–∏—Å–∫, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—á–∏—Ç—ã–≤–∞—Ç—å.</p>
                            </div>
                        </div>

                        <!-- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞—Ö -->
                        <div id="forbiddenItemsWarning" class="bg-red-50 p-4 rounded-xl mb-4 border border-red-200 hidden">
                            <div class="flex items-start gap-3">
                                <div class="text-xl">‚ö†Ô∏è</div>
                                <div>
                                    <h4 class="font-semibold text-red-700">–°–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</h4>
                                    <ul id="forbiddenItemsList" class="list-disc pl-5 space-y-1 text-sm text-red-700 mt-2"></ul>
                                </div>
                            </div>
                        </div>

                        <form id="orderForm" class="space-y-4">
                            <!-- –°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏ -->
                            <div>
                                <label class="block text-sm font-semibold mb-2 text-gray-700">–°–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ –†–ë *</label>
                                <div class="relative">
                                    <select id="deliveryMethod" required onchange="handleDeliveryExtras()"
                                        class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 bg-gray-50 text-gray-800">
                                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏</option>
                                    </select>
                                    <span class="absolute right-3 top-3 text-gray-400">‚¨á</span>
                                </div>
                                <div id="deliveryDetailsBlock" class="mt-3 space-y-3">
                                    <div id="europostBlock" class="hidden bg-blue-50 border border-blue-200 rounded-xl p-3">
                                        <label class="block text-sm font-medium text-blue-800 mb-1">–ê–¥—Ä–µ—Å –æ—Ç–¥–µ–ª–µ–Ω–∏—è –ï–≤—Ä–æ–ø–æ—á—Ç—ã *</label>
                                        <input type="text" id="europostBranch" class="w-full px-3 py-2 rounded-lg border border-blue-200 focus:ring-2 focus:ring-blue-400" placeholder="–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –Ω–æ–º–µ—Ä –æ—Ç–¥–µ–ª–µ–Ω–∏—è">
                                    </div>
                                    <div id="belpostBlock" class="hidden bg-amber-50 border border-amber-200 rounded-xl p-3 space-y-2">
                                        <p class="text-sm font-medium text-amber-800">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ –ë–µ–ª–ø–æ—á—Ç–æ–π *</p>
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                                            <input type="text" id="belpostIndex" class="px-3 py-2 rounded-lg border border-amber-200 focus:ring-2 focus:ring-amber-400" placeholder="–ò–Ω–¥–µ–∫—Å">
                                            <input type="text" id="belpostCity" class="px-3 py-2 rounded-lg border border-amber-200 focus:ring-2 focus:ring-amber-400" placeholder="–ù–∞—Å–µ–ª—ë–Ω–Ω—ã–π –ø—É–Ω–∫—Ç">
                                            <input type="text" id="belpostStreet" class="px-3 py-2 rounded-lg border border-amber-200 focus:ring-2 focus:ring-amber-400" placeholder="–£–ª–∏—Ü–∞">
                                            <input type="text" id="belpostHouse" class="px-3 py-2 rounded-lg border border-amber-200 focus:ring-2 focus:ring-amber-400" placeholder="–î–æ–º / –∫–≤–∞—Ä—Ç–∏—Ä–∞">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- –¢–æ–≤–∞—Ä—ã -->
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <label class="text-sm font-semibold text-gray-700">–¢–æ–≤–∞—Ä—ã *</label>
                                    <button type="button" onclick="addProductRow()" class="inline-flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-green-600 text-white px-3 py-2 rounded-xl text-sm font-semibold shadow-lg hover:shadow-xl transition">
                                        <span>Ôºã</span> –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
                                    </button>
                                </div>
                                <div id="productsContainer" class="space-y-4"></div>
                            </div>

                            <!-- –†–∞—Å—á—ë—Ç —Å—É–º–º—ã -->
                            <div class="rounded-2xl border border-purple-100 bg-gradient-to-r from-purple-50 to-indigo-50 p-4">
                                <h3 class="font-semibold text-gray-800 mb-2">–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç</h3>
                                <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-2 text-sm">
                                    <p class="text-gray-600">–ö—É—Ä—Å —é–∞–Ω—è: <span id="displayYuanRate" class="font-bold text-gray-900">0</span> BYN</p>
                                    <div class="text-right">
                                        <p class="text-lg font-extrabold text-purple-700">–ò—Ç–æ–≥–æ: <span id="totalSum">0</span> BYN</p>
                                        <p class="text-[11px] text-gray-500">–î–æ—Å—Ç–∞–≤–∫–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏—è</p>
                                    </div>
                                </div>
                            </div>

                            <!-- –ß–µ–∫ –æ–ø–ª–∞—Ç—ã -->
                            <div class="rounded-2xl border border-dashed border-gray-300 p-4 bg-gray-50/80">
                                <label class="block text-sm font-semibold mb-2 text-gray-700">–ß–µ–∫ –æ–ø–ª–∞—Ç—ã —Ç–æ–≤–∞—Ä–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                                <input type="file" id="paymentReceipt" accept="image/*" class="w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-purple-500">
                                <p class="text-xs text-gray-500 mt-2">–ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ–π—á–∞—Å –∏–ª–∏ –ø–æ–∑–∂–µ –≤ —Å–ø–∏—Å–∫–µ –∑–∞–∫–∞–∑–æ–≤</p>
                            </div>

                            <!-- –î–æ–≥–æ–≤–æ—Ä-–æ—Ñ–µ—Ä—Ç–∞ -->
                            <div class="rounded-2xl border border-yellow-200 bg-yellow-50 p-4">
                                <label class="flex items-start gap-3 text-sm text-gray-800">
                                    <input type="checkbox" id="agreeToTerms" required class="mt-1 h-4 w-4 text-purple-600">
                                    <span>–Ø –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω –∏ —Å–æ–≥–ª–∞—Å–µ–Ω —Å <button type="button" onclick="showOfferModal()" class="text-purple-600 underline hover:text-purple-800">–¥–æ–≥–æ–≤–æ—Ä–æ–º-–æ—Ñ–µ—Ä—Ç–æ–π</button></span>
                                </label>
                            </div>

                            <button type="submit" class="w-full py-4 rounded-xl bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-lg font-bold shadow-xl hover:shadow-2xl transform hover:-translate-y-0.5 transition">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑</button>
                        </form>
                    </div>

                    <!-- –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ -->
                    <div class="bg-white/80 backdrop-blur rounded-2xl shadow-2xl border border-white/40 p-6">
                        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4">
                            <div class="flex items-center gap-2">
                                <span class="text-2xl">üì¶</span>
                                <h2 class="text-2xl font-bold text-gray-800">–ú–æ–∏ –∑–∞–∫–∞–∑—ã</h2>
                            </div>
                            <div class="relative w-full md:w-72">
                                <input type="text" id="searchOrder" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É (BY-01)" oninput="searchClientOrders()" class="w-full px-4 py-2.5 rounded-xl border border-gray-200 bg-gray-50 focus:ring-2 focus:ring-purple-500">
                                <span class="absolute right-3 top-2.5 text-gray-400">üîç</span>
                            </div>
                        </div>
                        <div id="clientOrders" class="space-y-4"></div>
                    </div>
                </div>

                <!-- –ò–Ω—Ñ–æ –∫–æ–ª–æ–Ω–∫–∞ -->
                <div class="space-y-4">
                    <div class="bg-white/70 backdrop-blur rounded-2xl shadow-xl border border-white/40 p-5">
                        <div class="flex items-center gap-3 mb-2">
                            <span class="text-2xl">üí°</span>
                            <h3 class="text-lg font-bold text-gray-800">–ü–æ–¥—Å–∫–∞–∑–∫–∏</h3>
                        </div>
                        <ul class="text-sm text-gray-600 space-y-2 list-disc list-inside">
                            <li>–î–æ–±–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –æ–¥–∏–Ω –∑–∞–∫–∞–∑.</li>
                            <li>–°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.</li>
                            <li>–ß–µ–∫ –∑–∞ –¥–æ—Å—Ç–∞–≤–∫—É –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏—è.</li>
                        </ul>
                    </div>
                    <div class="bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-2xl shadow-xl p-5">
                        <h3 class="text-lg font-bold mb-2">–°–≤—è–∑—å</h3>
                        <p class="text-sm opacity-90">–ú—ã —Å–æ–æ–±—â–∏–º –æ —Å—Ç–∞—Ç—É—Å–µ –≤ Telegram –∏ —á–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
        <div id="adminView" class="hidden">
            <!-- Header –ê–¥–º–∏–Ω–∫–∏ -->
            <div class="bg-gradient-to-r from-gray-900 to-purple-900 text-white rounded-t-2xl p-8 shadow-lg">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-4">
                        <div class="bg-white/10 p-3 rounded-full backdrop-blur-sm">
                            <span class="text-3xl">üõ°Ô∏è</span>
                        </div>
                        <div>
                            <h1 class="text-3xl font-bold tracking-tight">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
                            <p class="text-purple-200 text-sm">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π –∑–∞–∫–∞–∑–æ–≤</p>
                        </div>
                    </div>
                    <button onclick="logout()"
                        class="bg-white/10 hover:bg-white/20 text-white px-6 py-2.5 rounded-xl transition backdrop-blur-sm border border-white/10 font-medium flex items-center space-x-2">
                        <span>–í—ã–π—Ç–∏</span>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>
                    </button>
                </div>

                <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–∫–ª–∞–¥–æ–∫ -->
                <div class="flex space-x-2 mt-8 overflow-x-auto pb-2">
                    <button onclick="showAdminTab('orders')" id="tabOrders"
                        class="px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center space-x-2 bg-white text-purple-900 shadow-lg transform scale-105">
                        <span>üì¶</span><span>–ó–∞–∫–∞–∑—ã</span>
                    </button>
                    <button onclick="showAdminTab('finance')" id="tabFinance"
                        class="px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center space-x-2 bg-white/10 text-white hover:bg-white/20">
                        <span>üí∏</span><span>–§–∏–Ω–∞–Ω—Å—ã</span>
                    </button>
                    <button onclick="showAdminTab('users')" id="tabUsers"
                        class="px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center space-x-2 bg-white/10 text-white hover:bg-white/20">
                        <span>üë•</span><span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
                    </button>
                    <button onclick="showAdminTab('settings')" id="tabSettings"
                        class="px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center space-x-2 bg-white/10 text-white hover:bg-white/20">
                        <span>‚öôÔ∏è</span><span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                    </button>
                </div>
            </div>

            <div class="bg-gray-50 rounded-b-2xl shadow-2xl min-h-[600px] p-6">
                <!-- –í–∫–ª–∞–¥–∫–∞ –∑–∞–∫–∞–∑–æ–≤ -->
                <div id="adminOrdersTab">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6 bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center mb-4 md:mb-0">
                            <span class="bg-purple-100 text-purple-700 p-2 rounded-lg mr-3">üì¶</span>
                            –í—Å–µ –∑–∞–∫–∞–∑—ã
                        </h2>
                        <div class="flex flex-col sm:flex-row gap-3 items-stretch sm:items-center">
                            <div class="flex gap-3">
                                <div class="relative">
                                    <label class="absolute -top-2 left-3 bg-white px-1 text-xs text-purple-600 font-medium">–ì–æ–¥</label>
                                    <select id="filterYear" onchange="loadAdminOrders()" class="w-32 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none cursor-pointer hover:bg-gray-100 transition">
                                        <option value="2025" selected>2025</option>
                                        <option value="2026">2026</option>
                                        <option value="2027">2027</option>
                                        <option value="2028">2028</option>
                                        <option value="2029">2029</option>
                                        <option value="2030">2030</option>
                                        <option value="2031">2031</option>
                                        <option value="2032">2032</option>
                                        <option value="2033">2033</option>
                                        <option value="2034">2034</option>
                                        <option value="2035">2035</option>
                                        <option value="2036">2036</option>
                                        <option value="2037">2037</option>
                                        <option value="2038">2038</option>
                                        <option value="2039">2039</option>
                                        <option value="2040">2040</option>
                                        <option value="2041">2041</option>
                                        <option value="2042">2042</option>
                                        <option value="2043">2043</option>
                                        <option value="2044">2044</option>
                                        <option value="2045">2045</option>
                                        <option value="2046">2046</option>
                                        <option value="2047">2047</option>
                                        <option value="2048">2048</option>
                                        <option value="2049">2049</option>
                                        <option value="2050">2050</option>
                                        <option value="2024">2024</option>
                                        <option value="2023">2023</option>
                                    </select>
                                </div>
                                <div class="relative">
                                    <label class="absolute -top-2 left-3 bg-white px-1 text-xs text-purple-600 font-medium">–ú–µ—Å—è—Ü</label>
                                    <select id="filterMonth" onchange="loadAdminOrders()" class="w-40 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none cursor-pointer hover:bg-gray-100 transition">
                                        <option value="all">üìÖ –í—Å–µ –º–µ—Å—è—Ü—ã</option>
                                        <option value="0">–Ø–Ω–≤–∞—Ä—å</option>
                                        <option value="1">–§–µ–≤—Ä–∞–ª—å</option>
                                        <option value="2">–ú–∞—Ä—Ç</option>
                                        <option value="3">–ê–ø—Ä–µ–ª—å</option>
                                        <option value="4">–ú–∞–π</option>
                                        <option value="5">–ò—é–Ω—å</option>
                                        <option value="6">–ò—é–ª—å</option>
                                        <option value="7">–ê–≤–≥—É—Å—Ç</option>
                                        <option value="8">–°–µ–Ω—Ç—è–±—Ä—å</option>
                                        <option value="9">–û–∫—Ç—è–±—Ä—å</option>
                                        <option value="10">–ù–æ—è–±—Ä—å</option>
                                        <option value="11">–î–µ–∫–∞–±—Ä—å</option>
                                    </select>
                                </div>
                            </div>
                            <div class="flex flex-col sm:flex-row gap-2 sm:items-center text-xs text-gray-600">
                                <label class="flex items-center gap-2">
                                    <input type="checkbox" id="filterCurrentMonth" onchange="toggleCurrentMonth()" class="h-4 w-4 text-purple-600 rounded">
                                    <span>–¢–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü</span>
                                </label>
                                <label class="flex items-center gap-2">
                                    <input type="checkbox" id="sortByStatus" onchange="loadAdminOrders()" class="h-4 w-4 text-purple-600 rounded" checked>
                                    <span>–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Å—Ç–∞—Ç—É—Å—É</span>
                                </label>
                            </div>
                            <button onclick="exportSelectedOrders()" class="inline-flex items-center justify-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-semibold rounded-lg shadow-sm transition">
                                ‚¨á –≠–∫—Å–ø–æ—Ä—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –≤ Excel
                            </button>
                        </div>
                    </div>
                    <div id="adminOrders" class="space-y-6"></div>
                </div>

                <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤–≤–æ–¥–∞ –≤–µ—Å–∞ –∏ —Ç—Ä–µ–∫-–Ω–æ–º–µ—Ä–∞ -->
                <div id="weightModal" class="modal hidden">
                    <div class="modal-content">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h2 class="text-2xl font-bold">–î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∫–∏</h2>
                                <p class="text-sm text-gray-600">–ó–∞–∫–∞–∑ #<span id="weightOrderId"></span></p>
                                <p class="text-xs text-purple-600 mt-1">–°—Ç–∞—Ç—É—Å: –û—Ç–ø—Ä–∞–≤–ª–µ–Ω –∏–∑ –ö–∏—Ç–∞—è</p>
                            </div>
                            <button onclick="closeWeightModal()" class="text-gray-500 hover:text-gray-800">‚úï</button>
                        </div>

                        <div class="mb-4 text-sm text-blue-800 bg-blue-50 p-3 rounded border border-blue-200">
                            <p>–í–≤–µ–¥–∏—Ç–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≤–µ—Å (–∫–≥) –∏ —Ç—Ä–µ–∫-–Ω–æ–º–µ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞.</p>
                        </div>

                        <div id="weightProductsContainer" class="space-y-3 mb-4 max-h-60 overflow-y-auto"></div>

                        <div class="bg-purple-50 p-4 rounded-lg mb-4 border border-purple-200">
                            <h3 class="font-semibold mb-2">–ò—Ç–æ–≥–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç:</h3>
                            <div class="grid grid-cols-2 gap-2 text-sm">
                                <p>–û–±—â–∏–π –≤–µ—Å:</p>
                                <p class="font-bold"><span id="totalWeightDisplay">0</span> –∫–≥</p>
                                <p>–¶–µ–Ω–∞ –∑–∞ –¥–æ—Å—Ç–∞–≤–∫—É:</p>
                                <p class="font-bold"><span id="deliveryCostCalc">0</span> BYN</p>
                                <p class="text-lg pt-2 border-t font-bold text-purple-700">–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ –∫–ª–∏–µ–Ω—Ç–æ–º:</p>
                                <p class="text-lg pt-2 border-t font-bold text-purple-700"><span id="totalToPayCalc">0</span> BYN</p>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-1">–§–æ—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                            <input type="file" id="productPhotos" multiple accept="image/*" class="w-full px-4 py-2 border rounded-lg">
                            <p class="text-xs text-gray-500 mt-1">–ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ –ø–æ—Å—ã–ª–∫–∏ –∏–ª–∏ —Ç–æ–≤–∞—Ä–æ–≤</p>
                        </div>

                        <div class="flex space-x-2">
                            <button onclick="saveWeightData()" class="flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">
                                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å
                            </button>
                            <button onclick="closeWeightModal()" class="flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600">
                                –û—Ç–º–µ–Ω–∞
                            </button>
                        </div>
                    </div>
                </div>

                <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ -->
                <div id="editOrderModal" class="modal hidden">
                    <div class="modal-content">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h2 class="text-2xl font-bold">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
                                <p class="text-sm text-gray-600">–ó–∞–∫–∞–∑ #<span id="editOrderId"></span></p>
                            </div>
                            <button onclick="closeEditOrder()" class="text-gray-500 hover:text-gray-800">‚úï</button>
                        </div>

                        <div class="space-y-4">
                            <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
                                <label class="block text-sm font-semibold mb-2">–°–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ –†–ë *</label>
                                <select id="editDeliveryMethod" class="w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500" onchange="handleEditDeliveryExtras()"></select>
                                <div id="editDeliveryDetails" class="mt-3 space-y-3">
                                    <div id="editEuropostBlock" class="hidden bg-blue-50 border border-blue-200 rounded-xl p-3">
                                        <label class="block text-sm font-medium mb-1 text-blue-800">–ê–¥—Ä–µ—Å –æ—Ç–¥–µ–ª–µ–Ω–∏—è –ï–≤—Ä–æ–ø–æ—á—Ç—ã *</label>
                                        <input type="text" id="editEuropostBranch" class="w-full px-3 py-2 rounded-lg border border-blue-200 focus:ring-2 focus:ring-blue-400" placeholder="–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –Ω–æ–º–µ—Ä –æ—Ç–¥–µ–ª–µ–Ω–∏—è">
                                    </div>
                                    <div id="editBelpostBlock" class="hidden bg-amber-50 border border-amber-200 rounded-xl p-3 space-y-2">
                                        <p class="text-sm font-medium text-amber-800">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ –ë–µ–ª–ø–æ—á—Ç–æ–π *</p>
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                                            <input type="text" id="editBelpostIndex" class="px-3 py-2 rounded-lg border border-amber-200 focus:ring-2 focus:ring-amber-400" placeholder="–ò–Ω–¥–µ–∫—Å">
                                            <input type="text" id="editBelpostCity" class="px-3 py-2 rounded-lg border border-amber-200 focus:ring-2 focus:ring-amber-400" placeholder="–ù–∞—Å–µ–ª—ë–Ω–Ω—ã–π –ø—É–Ω–∫—Ç">
                                            <input type="text" id="editBelpostStreet" class="px-3 py-2 rounded-lg border border-amber-200 focus:ring-2 focus:ring-amber-400" placeholder="–£–ª–∏—Ü–∞">
                                            <input type="text" id="editBelpostHouse" class="px-3 py-2 rounded-lg border border-amber-200 focus:ring-2 focus:ring-amber-400" placeholder="–î–æ–º / –∫–≤–∞—Ä—Ç–∏—Ä–∞">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 class="font-semibold text-gray-800 mb-3">–¢–æ–≤–∞—Ä—ã</h3>
                                <div id="editProductsContainer" class="space-y-3 max-h-[350px] overflow-y-auto"></div>
                            </div>
                        </div>

                        <div class="mt-6 flex gap-3">
                            <button onclick="saveEditOrder()" class="flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            <button onclick="closeEditOrder()" class="flex-1 bg-gray-200 text-gray-800 py-2 rounded-lg hover:bg-gray-300">–û—Ç–º–µ–Ω–∞</button>
                        </div>
                    </div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                <div id="adminUsersTab" class="hidden">
                    <h2 class="text-xl font-semibold mb-4">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
                    <div id="adminUsers" class="space-y-4"></div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ –§–∏–Ω–∞–Ω—Å—ã (–ù–û–í–ê–Ø) -->
                <div id="adminFinanceTab" class="hidden">
                    <h2 class="text-xl font-semibold mb-4">üí∏ –§–∏–Ω–∞–Ω—Å—ã –∏ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>

                    <!-- –ì–õ–ê–í–ù–´–ï –ü–û–ö–ê–ó–ê–¢–ï–õ–ò (–¢–ï–ö–£–©–ò–ô –ú–ï–°–Ø–¶) -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <!-- –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å -->
                        <div class="bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl border border-purple-200 shadow-sm">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-gray-600 font-semibold">–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å</h3>
                                <span class="text-2xl">üí∞</span>
                            </div>
                            <p class="text-3xl font-bold text-purple-700" id="calcTotalNetProfitFinal">0 BYN</p>
                            <p class="text-xs text-purple-600 mt-2">–ó–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü</p>
                        </div>

                        <!-- –°—É–º–º–∞ –Ω–∞–ª–æ–≥–∞ -->
                        <div class="bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl border border-orange-200 shadow-sm">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-gray-600 font-semibold">–°—É–º–º–∞ –Ω–∞–ª–æ–≥–∞</h3>
                                <span class="text-2xl">üè¶</span>
                            </div>
                            <p class="text-3xl font-bold text-orange-700" id="calcTotalTax">0 BYN</p>
                            <p class="text-xs text-orange-600 mt-2">–ó–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü</p>
                        </div>

                        <!-- –û–ø–ª–∞—á–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã -->
                        <div class="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl border border-green-200 shadow-sm">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-gray-600 font-semibold">–û–ø–ª–∞—á–µ–Ω–æ –∑–∞–∫–∞–∑–æ–≤</h3>
                                <span class="text-2xl">üí≥</span>
                            </div>
                            <p class="text-3xl font-bold text-green-700" id="calcTotalPaidOrders">0 BYN</p>
                            <p class="text-xs text-green-600 mt-2">–°—É–º–º–∞ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–π</p>
                        </div>
                    </div>

                    <!-- –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤ -->
                    <details class="bg-white rounded-lg border mb-8 group">
                        <summary class="cursor-pointer p-4 font-semibold text-gray-700 hover:bg-gray-50 flex justify-between items-center">
                            <span>üìã –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤ –ø—Ä–∏–±—ã–ª–∏ (–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å)</span>
                            <span class="group-open:rotate-180 transition-transform">‚ñº</span>
                        </summary>
                        <div class="p-6 border-t bg-gray-50">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <!-- –†–∞—Å—á–µ—Ç –ø–æ —Ç–æ–≤–∞—Ä–∞–º -->
                                <div class="bg-white p-4 rounded-lg border border-purple-200">
                                    <h4 class="font-bold text-purple-700 mb-3 border-b pb-2">üì¶ –ü—Ä–∏–±—ã–ª—å —Å —Ç–æ–≤–∞—Ä–æ–≤</h4>
                                    <div class="space-y-2 text-sm">
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">–ü—Ä–∏–±—ã–ª—å (–≥—Ä—è–∑–Ω–∞—è):</span>
                                            <span class="font-mono font-bold" id="calcProfitGoods">0</span>
                                        </div>
                                        <div class="flex justify-between text-red-600">
                                            <span>- –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å:</span>
                                            <span class="font-mono" id="calcCostGoods">0</span>
                                        </div>
                                        <div class="flex justify-between text-orange-600">
                                            <span>- –ù–∞–ª–æ–≥:</span>
                                            <span class="font-mono" id="calcTaxGoods">0</span>
                                        </div>
                                        <div class="flex justify-between border-t pt-2 mt-2 text-lg font-bold text-purple-700 bg-purple-50 p-2 rounded">
                                            <span>= –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å:</span>
                                            <span id="calcNetProfitGoods">0</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- –†–∞—Å—á–µ—Ç –ø–æ –¥–æ—Å—Ç–∞–≤–∫–µ -->
                                <div class="bg-white p-4 rounded-lg border border-blue-200">
                                    <h4 class="font-bold text-blue-700 mb-3 border-b pb-2">üöö –ü—Ä–∏–±—ã–ª—å —Å –¥–æ—Å—Ç–∞–≤–∫–∏</h4>
                                    <div class="space-y-2 text-sm">
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">–ü—Ä–∏–±—ã–ª—å (–≥—Ä—è–∑–Ω–∞—è):</span>
                                            <span class="font-mono font-bold" id="calcProfitDelivery">0</span>
                                        </div>
                                        <div class="flex justify-between text-red-600">
                                            <span>- –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å:</span>
                                            <span class="font-mono" id="calcCostDelivery">0</span>
                                        </div>
                                        <div class="flex justify-between text-orange-600">
                                            <span>- –ù–∞–ª–æ–≥:</span>
                                            <span class="font-mono" id="calcTaxDelivery">0</span>
                                        </div>
                                        <div class="flex justify-between border-t pt-2 mt-2 text-lg font-bold text-blue-700 bg-blue-50 p-2 rounded">
                                            <span>= –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å:</span>
                                            <span id="calcNetProfitDelivery">0</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- –°–∫—Ä—ã—Ç—ã–π –¥—É–±–ª–∏–∫–∞—Ç –¥–ª—è JS -->
                            <span id="calcTotalNetProfit" class="hidden"></span>
                        </div>
                    </details>

                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–æ–¥–∞–º –∏ –º–µ—Å—è—Ü–∞–º -->
                    <div class="bg-gray-50 p-6 rounded-lg mb-6">
                        <h3 class="font-semibold mb-4">üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º</h3>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium mb-1">–ì–æ–¥</label>
                                <select id="statsYear" onchange="updateStatistics()" class="w-full px-4 py-2 border rounded-lg">
                                    <option value="2025" selected>2025</option>
                                    <option value="2026">2026</option>
                                    <option value="2027">2027</option>
                                    <option value="2028">2028</option>
                                    <option value="2029">2029</option>
                                    <option value="2030">2030</option>
                                    <option value="2031">2031</option>
                                    <option value="2032">2032</option>
                                    <option value="2033">2033</option>
                                    <option value="2034">2034</option>
                                    <option value="2035">2035</option>
                                    <option value="2036">2036</option>
                                    <option value="2037">2037</option>
                                    <option value="2038">2038</option>
                                    <option value="2039">2039</option>
                                    <option value="2040">2040</option>
                                    <option value="2041">2041</option>
                                    <option value="2042">2042</option>
                                    <option value="2043">2043</option>
                                    <option value="2044">2044</option>
                                    <option value="2045">2045</option>
                                    <option value="2046">2046</option>
                                    <option value="2047">2047</option>
                                    <option value="2048">2048</option>
                                    <option value="2049">2049</option>
                                    <option value="2050">2050</option>
                                    <option value="2024">2024</option>
                                    <option value="2023">2023</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-1">–ú–µ—Å—è—Ü</label>
                                <select id="statsMonth" onchange="updateStatistics()" class="w-full px-4 py-2 border rounded-lg">
                                    <option value="all">–í–µ—Å—å –≥–æ–¥</option>
                                    <option value="0">–Ø–Ω–≤–∞—Ä—å</option>
                                    <option value="1">–§–µ–≤—Ä–∞–ª—å</option>
                                    <option value="2">–ú–∞—Ä—Ç</option>
                                    <option value="3">–ê–ø—Ä–µ–ª—å</option>
                                    <option value="4">–ú–∞–π</option>
                                    <option value="5">–ò—é–Ω—å</option>
                                    <option value="6">–ò—é–ª—å</option>
                                    <option value="7">–ê–≤–≥—É—Å—Ç</option>
                                    <option value="8">–°–µ–Ω—Ç—è–±—Ä—å</option>
                                    <option value="9">–û–∫—Ç—è–±—Ä—å</option>
                                    <option value="10">–ù–æ—è–±—Ä—å</option>
                                    <option value="11">–î–µ–∫–∞–±—Ä—å</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-1">–¢–∏–ø –æ—Ç—á–µ—Ç–∞</label>
                                <select id="statsType" onchange="updateStatistics()" class="w-full px-4 py-2 border rounded-lg">
                                    <option value="summary">–°–≤–æ–¥–∫–∞</option>
                                    <option value="monthly">–ü–æ –º–µ—Å—è—Ü–∞–º</option>
                                    <option value="yearly">–ü–æ –≥–æ–¥–∞–º</option>
                                </select>
                            </div>
                        </div>

                        <div id="statisticsContent" class="space-y-4">
                            <div id="summaryStats" class="bg-white p-4 rounded-lg border">
                                <h4 class="font-semibold mb-3 text-lg">–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                    <div class="bg-purple-50 p-3 rounded border border-purple-300">
                                        <p class="text-sm text-gray-600">–ß–ü –∑–∞ —Ç–æ–≤–∞—Ä</p>
                                        <p class="text-xl font-bold text-purple-700" id="statsProfitGoods">0 BYN</p>
                                    </div>
                                    <div class="bg-blue-50 p-3 rounded border border-blue-300">
                                        <p class="text-sm text-gray-600">–ß–ü –∑–∞ –¥–æ—Å—Ç–∞–≤–∫—É</p>
                                        <p class="text-xl font-bold text-blue-700" id="statsProfitDelivery">0 BYN</p>
                                    </div>
                                    <div class="bg-green-50 p-3 rounded border border-green-300">
                                        <p class="text-sm text-gray-600">–û–±—â–∞—è –ß–ü</p>
                                        <p class="text-xl font-bold text-green-700" id="statsTotalProfit">0 BYN</p>
                                    </div>
                                    <div class="bg-orange-50 p-3 rounded border border-orange-300">
                                        <p class="text-sm text-gray-600">–û–±—â–∏–π –Ω–∞–ª–æ–≥</p>
                                        <p class="text-xl font-bold text-orange-700" id="statsTotalTax">0 BYN</p>
                                    </div>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                                    <div class="bg-gray-50 p-3 rounded border">
                                        <p class="text-sm text-gray-600">–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</p>
                                        <p class="text-xl font-bold" id="statsTotalOrders">0</p>
                                    </div>
                                    <div class="bg-gray-50 p-3 rounded border">
                                        <p class="text-sm text-gray-600">–û–ø–ª–∞—á–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤</p>
                                        <p class="text-xl font-bold" id="statsPaidOrders">0</p>
                                    </div>
                                    <div class="bg-gray-50 p-3 rounded border">
                                        <p class="text-sm text-gray-600">–°—É–º–º–∞ –æ–ø–ª–∞—á–µ–Ω–Ω—ã—Ö</p>
                                        <p class="text-xl font-bold" id="statsPaidSum">0 BYN</p>
                                    </div>
                                </div>
                            </div>

                            <div id="monthlyStats" class="hidden bg-white p-4 rounded-lg border">
                                <h4 class="font-semibold mb-3 text-lg">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º</h4>
                                <div id="monthlyStatsContent" class="space-y-2"></div>
                            </div>

                            <div id="yearlyStats" class="hidden bg-white p-4 rounded-lg border">
                                <h4 class="font-semibold mb-3 text-lg">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–æ–¥–∞–º</h4>
                                <div id="yearlyStatsContent" class="space-y-2"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
                <div id="adminSettingsTab" class="hidden">
                    <div class="flex items-center mb-6">
                        <span class="bg-purple-100 text-purple-700 p-2 rounded-lg mr-3 text-xl">‚öôÔ∏è</span>
                        <h2 class="text-xl font-bold text-gray-800">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h2>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- –ö—É—Ä—Å—ã –∏ —Ü–µ–Ω—ã -->
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <span class="w-8 h-8 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center mr-3 text-sm">üí∞</span>
                                –ö—É—Ä—Å—ã –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å
                            </h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1">–ö—É—Ä—Å —é–∞–Ω—è (BYN)</label>
                                    <input type="number" id="yuanRate" step="0.01"
                                        class="w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition font-mono">
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1">–¶–µ–Ω–∞ –∑–∞ –∫–≥ (BYN)</label>
                                    <input type="number" id="kgPrice" step="0.01"
                                        class="w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition font-mono">
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1">–°–µ–±–µ—Å—Ç. —é–∞–Ω—è</label>
                                    <input type="number" id="costYuan" step="0.01"
                                        class="w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition font-mono">
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1">–°–µ–±–µ—Å—Ç. –∫–≥</label>
                                    <input type="number" id="costKg" step="0.01"
                                        class="w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition font-mono">
                                </div>
                                <div class="md:col-span-2">
                                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1">–ù–∞–ª–æ–≥ –æ—Ç –ø—Ä–∏–±—ã–ª–∏ (%)</label>
                                    <input type="number" id="taxPercent" step="0.1"
                                        class="w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition font-mono">
                                </div>
                            </div>
                            <button onclick="saveRates()"
                                class="mt-6 w-full bg-blue-600 text-white px-4 py-2.5 rounded-xl hover:bg-blue-700 transition font-medium shadow-lg shadow-blue-200">
                                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞—Å—Ü–µ–Ω–∫–∏
                            </button>
                        </div>

                        <!-- –°–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ -->
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <span class="w-8 h-8 rounded-lg bg-red-50 text-red-600 flex items-center justify-center mr-3 text-sm">üö´</span>
                                –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
                            </h3>
                            <div class="flex space-x-2 mb-4">
                                <input type="text" id="newForbiddenItem" placeholder="–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä..."
                                    class="flex-1 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500 outline-none transition">
                                <button onclick="addForbiddenItem()"
                                    class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition font-medium">
                                    +
                                </button>
                            </div>
                            <div class="space-y-2 max-h-[250px] overflow-y-auto custom-scrollbar" id="forbiddenItemsAdminList"></div>
                        </div>

                        <!-- –°–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏ -->
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <span class="w-8 h-8 rounded-lg bg-green-50 text-green-600 flex items-center justify-center mr-3 text-sm">üöö</span>
                                –°–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ –†–ë
                            </h3>
                            <div class="flex space-x-2 mb-4">
                                <input type="text" id="newDeliveryMethod" placeholder="–ù–æ–≤—ã–π —Å–ø–æ—Å–æ–±..."
                                    class="flex-1 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 outline-none transition">
                                <button onclick="addDeliveryMethod()"
                                    class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition font-medium">
                                    +
                                </button>
                            </div>
                            <div class="space-y-2" id="deliveryMethodsList"></div>
                        </div>

                        <!-- –†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã -->
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <span class="w-8 h-8 rounded-lg bg-purple-50 text-purple-600 flex items-center justify-center mr-3 text-sm">üí≥</span>
                                –†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã
                            </h3>
                            <textarea id="paymentDetails" rows="5"
                                class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none transition text-sm"
                                placeholder="–£–∫–∞–∂–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã..."></textarea>
                            <button onclick="savePaymentDetails()"
                                class="mt-4 w-full bg-purple-600 text-white px-4 py-2.5 rounded-xl hover:bg-purple-700 transition font-medium shadow-lg shadow-purple-200">
                                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–≥–æ–≤–æ—Ä–∞-–æ—Ñ–µ—Ä—Ç—ã -->
    <div id="offerModal" class="modal hidden">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4">–î–æ–≥–æ–≤–æ—Ä –ø—É–±–ª–∏—á–Ω–æ–π –æ—Ñ–µ—Ä—Ç—ã –Ω–∞ –æ–∫–∞–∑–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã—Ö —É—Å–ª—É–≥</h2>
            <div class="prose text-sm space-y-3 mb-6">
                <p class="text-xs">–§–∏–∑–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ, –ö—É–∏—Å –í–∞–¥–∏–º –í–∏–∫—Ç–æ—Ä–æ–≤–∏—á, –£–ù–ü BE6333993, –∏–º–µ–Ω—É–µ–º—ã–π –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º ¬´–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å¬ª, –ø—É–±–ª–∏–∫—É–µ—Ç –Ω–∞—Å—Ç–æ—è—â–∏–π –¥–æ–≥–æ–≤–æ—Ä –ø—É–±–ª–∏—á–Ω–æ–π –æ—Ñ–µ—Ä—Ç—ã (–¥–∞–ª–µ–µ ‚Äî ¬´–î–æ–≥–æ–≤–æ—Ä¬ª) –æ –Ω–∏–∂–µ—Å–ª–µ–¥—É—é—â–µ–º:</p>

                <p><strong>1. –ü—Ä–µ–¥–º–µ—Ç –¥–æ–≥–æ–≤–æ—Ä–∞</strong></p>
                <p>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –æ–∫–∞–∑—ã–≤–∞–µ—Ç –ó–∞–∫–∞–∑—á–∏–∫—É —É—Å–ª—É–≥–∏, –≤–∫–ª—é—á–∞—é—â–∏–µ:</p>
                <ul class="list-disc pl-5 space-y-1 text-xs">
                    <li>–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–≤–∞—Ä–∞—Ö –∏ –ø—Ä–æ–¥–∞–≤—Ü–∞—Ö –Ω–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–ª–æ—â–∞–¥–∫–∞—Ö –ö–∏—Ç–∞–π—Å–∫–æ–π –ù–∞—Ä–æ–¥–Ω–æ–π –†–µ—Å–ø—É–±–ª–∏–∫–∏;</li>
                    <li>–∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —É—Å–ª–æ–≤–∏—è–º –∑–∞–∫–∞–∑–∞ –∏ –¥–æ—Å—Ç–∞–≤–∫–∏;</li>
                    <li>–ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞–∫–∞–∑–µ –ø—Ä–æ–¥–∞–≤—Ü—É –ø–æ –ø–æ—Ä—É—á–µ–Ω–∏—é –ó–∞–∫–∞–∑—á–∏–∫–∞;</li>
                    <li>–∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ó–∞–∫–∞–∑—á–∏–∫–∞ –æ —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞;</li>
                    <li>–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–º–∏ –∏ –ø–æ—á—Ç–æ–≤—ã–º–∏ —Å–ª—É–∂–±–∞–º–∏.</li>
                </ul>
                <p class="font-semibold mt-2">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–¥–∞–≤—Ü–æ–º, –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º –∏–ª–∏ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–º —Ç–æ–≤–∞—Ä–æ–≤.</p>
                <p class="mt-2">–ü–æ –ø–æ—Ä—É—á–µ–Ω–∏—é –ó–∞–∫–∞–∑—á–∏–∫–∞ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ–∫–∞–∑—ã–≤–∞—Ç—å —É—Å–ª—É–≥–∏ –ø–æ —Å–æ–¥–µ–π—Å—Ç–≤–∏—é –≤ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ –æ–ø–ª–∞—Ç—ã —Ç–æ–≤–∞—Ä–æ–≤ –∏ —É—Å–ª—É–≥ –¥–æ—Å—Ç–∞–≤–∫–∏, –ø–µ—Ä–µ–¥–∞–≤–∞—è –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –æ—Ç –∏–º–µ–Ω–∏ –∏ –∑–∞ —Å—á—ë—Ç –ó–∞–∫–∞–∑—á–∏–∫–∞ –≤ –∞–¥—Ä–µ—Å –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∏ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤. –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ –æ–ø–ª–∞—Ç–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –∏—Å–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –ó–∞–∫–∞–∑—á–∏–∫–æ–º –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ª–∏—Ü.</p>
                <p class="mt-2">–£—Å–ª—É–≥–∏ –æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ, –≤–Ω–µ –º–µ—Å—Ç–∞ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –ó–∞–∫–∞–∑—á–∏–∫–∞, —á–µ—Ä–µ–∑ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä Telegram, –≤ —Ä–∞–º–∫–∞—Ö –ø–µ—Ä–µ–ø–∏—Å–∫–∏ –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤.</p>
                <div class="bg-yellow-50 p-3 rounded border border-yellow-300 mt-3">
                    <p class="text-xs"><strong>‚ö†Ô∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:</strong> –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–∑–∫–µ –≤–æ–∑–º–æ–∂–Ω—ã —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä—ã –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ, –Ω–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–µ –ø–æ–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ —Å—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏. –¢–∞–∫–∂–µ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –ø—Ä–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ ‚Äî —ç—Ç–æ —Ä–∏—Å–∫, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—á–∏—Ç—ã–≤–∞—Ç—å.</p>
                </div>

                <p><strong>2. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞</strong></p>
                <ul class="list-disc pl-5 space-y-1 text-xs">
                    <li>–ù–∞—Å—Ç–æ—è—â–∏–π –¥–æ–≥–æ–≤–æ—Ä —è–≤–ª—è–µ—Ç—Å—è –ø—É–±–ª–∏—á–Ω—ã–º (—Å—Ç. 396 –ì–ö –†–ë).</li>
                    <li>–†–∞–∑–º–µ—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –¥–æ–≥–æ–≤–æ—Ä–∞ –≤ —Å–µ—Ç–∏ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —è–≤–ª—è–µ—Ç—Å—è –ø—É–±–ª–∏—á–Ω–æ–π –æ—Ñ–µ—Ä—Ç–æ–π (—Å—Ç. 407 –ì–ö –†–ë).</li>
                    <li>–ê–∫—Ü–µ–ø—Ç–æ–º –æ—Ñ–µ—Ä—Ç—ã —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–ø–ª–∞—Ç–∞ —É—Å–ª—É–≥ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è.</li>
                    <li>–î–æ–≥–æ–≤–æ—Ä –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—Å—Ç–æ–π –ø–∏—Å—å–º–µ–Ω–Ω–æ–π —Ñ–æ—Ä–º–µ (—Å—Ç. 404, 408 –ì–ö –†–ë).</li>
                </ul>

                <p><strong>3. –ü—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —Å—Ç–æ—Ä–æ–Ω</strong></p>
                <p class="font-semibold">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –æ–±—è–∑—É–µ—Ç—Å—è:</p>
                <ul class="list-disc pl-5 space-y-1 text-xs">
                    <li>–æ–∫–∞–∑–∞—Ç—å —É—Å–ª—É–≥–∏ –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä—ë–º–µ –∏ –≤ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ —Å—Ä–æ–∫–∏;</li>
                    <li>–ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ–¥–∞–≤—Ü–∞–º –∏ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞–º –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –ó–∞–∫–∞–∑—á–∏–∫–∞;</li>
                    <li>–∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ó–∞–∫–∞–∑—á–∏–∫–∞ –æ —Ö–æ–¥–µ –æ–∫–∞–∑–∞–Ω–∏—è —É—Å–ª—É–≥;</li>
                    <li>—Å–æ–±–ª—é–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ó–∞–∫–∞–∑—á–∏–∫–∞.</li>
                </ul>
                <p class="font-semibold mt-2">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –≤–ø—Ä–∞–≤–µ:</p>
                <ul class="list-disc pl-5 space-y-1 text-xs">
                    <li>–ø—Ä–∏–≤–ª–µ–∫–∞—Ç—å —Ç—Ä–µ—Ç—å–∏—Ö –ª–∏—Ü –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π;</li>
                    <li>–ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –æ–∫–∞–∑–∞–Ω–∏–µ —É—Å–ª—É–≥ –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏–π –æ–ø–ª–∞—Ç—ã –ó–∞–∫–∞–∑—á–∏–∫–æ–º.</li>
                </ul>
                <p class="font-semibold mt-2">–ó–∞–∫–∞–∑—á–∏–∫ –æ–±—è–∑—É–µ—Ç—Å—è:</p>
                <ul class="list-disc pl-5 space-y-1 text-xs">
                    <li>–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ;</li>
                    <li>—Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–ø–ª–∞—á–∏–≤–∞—Ç—å —É—Å–ª—É–≥–∏ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è;</li>
                    <li>—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ–ø–ª–∞—á–∏–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –∏ –¥–æ—Å—Ç–∞–≤–∫—É. –ü–æ –æ—Ç–¥–µ–ª—å–Ω–æ–º—É –ø–æ—Ä—É—á–µ–Ω–∏—é –ó–∞–∫–∞–∑—á–∏–∫–∞ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å —É—Å–ª—É–≥—É –ø–æ —Å–æ–¥–µ–π—Å—Ç–≤–∏—é –≤ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ –æ–ø–ª–∞—Ç—ã —Ç–æ–≤–∞—Ä–æ–≤ –∏ —É—Å–ª—É–≥ –¥–æ—Å—Ç–∞–≤–∫–∏. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–¥–∞—á–∏ –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –æ—Ç –∏–º–µ–Ω–∏ –∏ –∑–∞ —Å—á—ë—Ç –ó–∞–∫–∞–∑—á–∏–∫–∞ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –∞–¥—Ä–µ—Å –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∏ (–∏–ª–∏) –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–µ –ø—Ä–∏–æ–±—Ä–µ—Ç–∞–µ—Ç —Ç–æ–≤–∞—Ä—ã –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –Ω–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏—Ö —Ü–µ–Ω—É –∏ –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ —Ä–∞—Å—á—ë—Ç—ã –º–µ–∂–¥—É –ó–∞–∫–∞–∑—á–∏–∫–æ–º –∏ –ø—Ä–æ–¥–∞–≤—Ü–∞–º–∏ (–ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞–º–∏).</li>
                    <li>—Å–æ–±–ª—é–¥–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Ç–∞–º–æ–∂–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –ø—Ä–∞–≤–∏–ª –≤–≤–æ–∑–∞.</li>
                </ul>

                <p><strong>4. –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –ø–æ—Ä—è–¥–æ–∫ –æ–ø–ª–∞—Ç—ã</strong></p>
                <ul class="list-disc pl-5 space-y-1 text-xs">
                    <li>–°—Ç–æ–∏–º–æ—Å—Ç—å —É—Å–ª—É–≥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é —Å—Ç–æ—Ä–æ–Ω –∏ –¥–æ–≤–æ–¥–∏—Ç—Å—è –¥–æ —Å–≤–µ–¥–µ–Ω–∏—è –ó–∞–∫–∞–∑—á–∏–∫–∞ –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞.</li>
                    <li>–û–ø–ª–∞—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤ –±–µ–ª–æ—Ä—É—Å—Å–∫–∏—Ö —Ä—É–±–ª—è—Ö –Ω–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è.</li>
                </ul>

                <p><strong>5. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Å—Ç–æ—Ä–æ–Ω</strong></p>
                <ul class="list-disc pl-5 space-y-1 text-xs">
                    <li>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –Ω–∞–¥–ª–µ–∂–∞—â–µ–µ –æ–∫–∞–∑–∞–Ω–∏–µ —É—Å–ª—É–≥ (–ø–µ—Ä–µ–¥–∞—á–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ).</li>
                    <li>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤, –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤, –ø–æ—á—Ç–æ–≤—ã—Ö —Å–ª—É–∂–±, —Ç–∞–º–æ–∂–µ–Ω–Ω—ã—Ö –æ—Ä–≥–∞–Ω–æ–≤.</li>
                    <li>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ü–≤–µ—Ç–∞, —Ä–∞–∑–º–µ—Ä–∞, –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏ –∏–ª–∏ –∏–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∑–∞–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –ø—Ä–æ–¥–∞–≤—Ü–æ–º.</li>
                    <li>–ó–∞–∫–∞–∑—á–∏–∫ –æ–±—è–∑—É–µ—Ç—Å—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ —Ç–æ–≤–∞—Ä–µ (–æ–ø–∏—Å–∞–Ω–∏–µ, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã) –ø–µ—Ä–µ–¥ –æ–ø–ª–∞—Ç–æ–π —É—Å–ª—É–≥ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏ –Ω–µ—Å—ë—Ç —Ä–∏—Å–∫ –æ—à–∏–±–æ–∫ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–µ–π –≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∏–º –¥–∞–Ω–Ω—ã—Ö.</li>
                    <li>–í —Å–ª—É—á–∞–µ –Ω–µ–Ω–∞–¥–ª–µ–∂–∞—â–µ–≥–æ –æ–∫–∞–∑–∞–Ω–∏—è —É—Å–ª—É–≥ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –≤–æ–∑–º–µ—â–∞–µ—Ç –ó–∞–∫–∞–∑—á–∏–∫—É –ø—Ä—è–º–æ–π —É—â–µ—Ä–± –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –æ–ø–ª–∞—á–µ–Ω–Ω—ã—Ö —É—Å–ª—É–≥.</li>
                </ul>

                <p><strong>6. –û—Ç–∫–∞–∑ –æ—Ç –¥–æ–≥–æ–≤–æ—Ä–∞</strong></p>
                <ul class="list-disc pl-5 space-y-1 text-xs">
                    <li>–ó–∞–∫–∞–∑—á–∏–∫ –≤–ø—Ä–∞–≤–µ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è, –≤–æ–∑–º–µ—Å—Ç–∏–≤ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø–æ–Ω–µ—Å—ë–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã (—Å—Ç. 15 –ó–∞–∫–æ–Ω–∞ –†–ë ¬´–û –∑–∞—â–∏—Ç–µ –ø—Ä–∞–≤ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π¬ª).</li>
                    <li>–°—Ç–æ–∏–º–æ—Å—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–∫–∞–∑–∞–Ω–Ω—ã—Ö —É—Å–ª—É–≥ –≤–æ–∑–≤—Ä–∞—Ç—É –Ω–µ –ø–æ–¥–ª–µ–∂–∏—Ç.</li>
                </ul>

                <p><strong>7. –§–æ—Ä—Å-–º–∞–∂–æ—Ä</strong></p>
                <p class="text-xs">–°—Ç–æ—Ä–æ–Ω—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ —á–∞—Å—Ç–∏—á–Ω–æ–µ –∏–ª–∏ –ø–æ–ª–Ω–æ–µ –Ω–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É, –µ—Å–ª–∏ –æ–Ω–æ –≤—ã–∑–≤–∞–Ω–æ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞–º–∏ –Ω–µ–ø—Ä–µ–æ–¥–æ–ª–∏–º–æ–π —Å–∏–ª—ã (–ø–æ–∂–∞—Ä, –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏–µ, –≤–æ–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏ –¥—Ä.).</p>

                <p><strong>8. –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å–ø–æ—Ä–æ–≤</strong></p>
                <ul class="list-disc pl-5 space-y-1 text-xs">
                    <li>–í—Å–µ —Å–ø–æ—Ä—ã —Ä–µ—à–∞—é—Ç—Å—è –ø—É—Ç—ë–º –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤.</li>
                    <li>–ü—Ä–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –≤ —Å—É–¥–µ–±–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å.</li>
                </ul>

                <p><strong>9. –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞</strong></p>
                <ul class="list-disc pl-5 space-y-1 text-xs">
                    <li>–î–æ–≥–æ–≤–æ—Ä —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–∫–ª—é—á—ë–Ω–Ω—ã–º –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –º–æ–º–µ–Ω—Ç–∞ –æ–ø–ª–∞—Ç—ã –ó–∞–∫–∞–∑—á–∏–∫–æ–º —É—Å–ª—É–≥ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è. –° —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ —Å—Ç–æ—Ä–æ–Ω—ã –ø—Ä–∏–æ–±—Ä–µ—Ç–∞—é—Ç –≤–∑–∞–∏–º–Ω—ã–µ –ø—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –ø–æ –î–æ–≥–æ–≤–æ—Ä—É.</li>
                    <li>–î–æ–≥–æ–≤–æ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—Ç–æ—Ä–≥–Ω—É—Ç –ª—é–±–æ–π –∏–∑ —Å—Ç–æ—Ä–æ–Ω —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –∑–∞ 7 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π.</li>
                </ul>

                <p><strong>10. –†–µ–∫–≤–∏–∑–∏—Ç—ã –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</strong></p>
                <div class="bg-gray-50 p-3 rounded border text-xs space-y-1">
                    <p><strong>–ö—É–∏—Å –í–∞–¥–∏–º –í–∏–∫—Ç–æ—Ä–æ–≤–∏—á</strong></p>
                    <p>–ê–¥—Ä–µ—Å: –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–µ–ª–∞—Ä—É—Å—å, –ë—Ä–µ—Å—Ç—Å–∫–∞—è –æ–±–ª., –≥. –ò–≤–∞—Ü–µ–≤–∏—á–∏, —É–ª. –î–µ–ø—É—Ç–∞—Ç—Å–∫–∞—è, –¥.43\2</p>
                    <p>–£–ù–ü BE6333993</p>
                    <p>–°—á—ë—Ç: BY86 ALFA 3014 32SA 0J00 1027 0000 –≤ –ó–ê–û ¬´–ê–õ–¨–§–ê-–ë–ê–ù–ö¬ª, –ë–ò–ö ALFABY2X</p>
                </div>
            </div>
            <button onclick="closeOfferModal()"
                class="w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700">
                –ó–∞–∫—Ä—ã—Ç—å
            </button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ -->
    <div id="paymentModal" class="modal hidden">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4">–†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã</h2>
            <div class="bg-yellow-50 p-4 rounded-lg mb-4 border border-yellow-300">
                <p class="font-semibold mb-2">–í–∞—à –∑–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!</p>
                <p class="text-sm">–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞: <span id="modalOrderNumber" class="font-bold"></span></p>
            </div>
            <div class="bg-gray-50 p-4 rounded-lg mb-4">
                <p class="font-semibold mb-2">–†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã:</p>
                <div id="modalPaymentDetails" class="text-sm whitespace-pre-line"></div>
            </div>
            <p class="text-sm text-gray-600 mb-4">–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –∑–∞–≥—Ä—É–∑–∏—Ç–µ —á–µ–∫ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ "–ú–æ–∏ –∑–∞–∫–∞–∑—ã"</p>
            <button onclick="closePaymentModal()"
                class="w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700">
                –ü–æ–Ω—è—Ç–Ω–æ
            </button>
        </div>
    </div>

    <script>
        /* =============================
           VIEW INIT (force login screen on load)
        ==============================*/
        window.addEventListener('load', () => {
            try {
                currentUser = null;
                hideAllViews();
                document.getElementById('loginForm').reset();
                document.getElementById('registerForm').reset();
                // –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø—Ä—è—á–µ–º –≤—Å–µ –º–æ–¥–∞–ª–∫–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ
                ['offerModal','paymentModal','weightModal','editOrderModal'].forEach(id => {
                    const el = document.getElementById(id);
                    if (el) el.classList.add('hidden');
                });
                if (typeof closeOfferModal === 'function') closeOfferModal();
                if (typeof closePaymentModal === 'function') closePaymentModal();
                document.getElementById('loginView').classList.remove('hidden');
            } catch (e) {
                console.warn('Init view reset error:', e);
            }
        });

        /* =============================
           CORE / DATA INIT (SUPABASE)
           -----------------------------
           - Supabase client & helpers
           - Local fallback storage for offline
        ==============================*/
        // Supabase credentials (defaulted to provided project; can be overridden via localStorage)
        const SUPABASE_URL = localStorage.getItem('supabase_url') || 'https://becvuuxjxvjhuojpinfb.supabase.co';
        const SUPABASE_KEY = localStorage.getItem('supabase_key') || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJlY3Z1dXhqeHZqaHVvanBpbmZiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyNzY0MDgsImV4cCI6MjA4MDg1MjQwOH0.FAznI4gEGCU3afTVdmzjlTNdLA7_39302pCYuo09bko';
        const supabase = (SUPABASE_URL && SUPABASE_KEY)
            ? window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY)
            : null;

        // –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (SHA-256)
        async function hashPassword(password) {
            const msgUint8 = new TextEncoder().encode(password);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }

        // –õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à (–¥–ª—è –æ—Ñ–ª–∞–π–Ω–∞) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ Supabase –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
        let users = [];
        let orders = [];
        let settings = {
            yuanRate: 13.50,
            kgPrice: 500,
            costYuan: 10,
            costKg: 300,
            taxPercent: 10,
            deliveryMethods: ['–°–∞–º–æ–≤—ã–≤–æ–∑', '–ï–≤—Ä–æ–ø–æ—á—Ç–∞', '–ë–µ–ª–ø–æ—á—Ç–∞'],
            paymentDetails: '–ö–∞—Ä—Ç–∞: 1234 5678 9012 3456\n–ü–æ–ª—É—á–∞—Ç–µ–ª—å: –û–û–û "–î–æ—Å—Ç–∞–≤–∫–∞"\n–ë–∞–Ω–∫: –°–±–µ—Ä–±–∞–Ω–∫',
            forbiddenItems: ['–û—Ä—É–∂–∏–µ', '–í–∑—Ä—ã–≤—á–∞—Ç—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞', '–ù–∞—Ä–∫–æ—Ç–∏–∫–∏', '–ö–æ–Ω—Ç—Ä–∞—Ñ–∞–∫—Ç']
        };
        let orderCounter = 0;

        let currentUser = null;
        let currentWeightOrderId = null;
        let currentEditOrderId = null;

        const statusFlow = ['–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã','–û–ø–ª–∞—á–µ–Ω','–í—ã–∫—É–ø–ª–µ–Ω','–û—Ç–ø—Ä–∞–≤–ª–µ–Ω –∏–∑ –ö–∏—Ç–∞—è','–ü—Ä–∏–±—ã–ª –≤ –ú–æ—Å–∫–≤—É','–î–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –ë–µ–ª–∞—Ä—É—Å—å','–î–æ—Å—Ç–∞–≤–ª–µ–Ω'];

        /* =============================
           TOASTS / NOTIFICATIONS
        ==============================*/
        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            if (!container) return alert(message);
            const icons = {
                success: '‚úÖ',
                error: '‚ùå',
                warning: '‚ö†Ô∏è',
                info: '‚ÑπÔ∏è'
            };
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.innerHTML = `<span>${icons[type] || icons.info}</span><span>${message}</span>`;
            container.appendChild(toast);
            setTimeout(() => {
                toast.remove();
            }, 5000);
        }

        /* =============================
           AUTH / USER MANAGEMENT
        ==============================*/
        // –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (Supabase)
        async function ensureDefaultAdmin() {
            if (!supabase) return; // —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Supabase
            const { data: existing } = await supabase
                .from('users')
                .select('id')
                .eq('phone','admin')
                .limit(1)
                .maybeSingle();
            if (existing) return;
            const hashed = await hashPassword('admin');
            await supabase.from('users').insert({
                full_name: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
                phone: 'admin',
                telegram: '@admin',
                password_hash: hashed,
                is_admin: true
            });
        }
        ensureDefaultAdmin();

        // –§—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function showLogin() {
            hideAllViews();
            document.getElementById('loginView').classList.remove('hidden');
        }

        function showRegister() {
            hideAllViews();
            document.getElementById('registerView').classList.remove('hidden');
        }

        function showAdminLogin() {
            showLogin();
            document.getElementById('loginPhone').value = 'admin';
            document.getElementById('loginPassword').value = 'admin';
        }

        function hideAllViews() {
            document.getElementById('loginView').classList.add('hidden');
            document.getElementById('registerView').classList.add('hidden');
            document.getElementById('clientView').classList.add('hidden');
            document.getElementById('adminView').classList.add('hidden');
        }

        function logout() {
            currentUser = null;
            showLogin();
        }

        /* =============================
           AUTH HANDLERS
        ==============================*/
        document.getElementById('registerForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const phone = document.getElementById('regPhone').value.trim();
            const hashedPass = await hashPassword(document.getElementById('regPassword').value);
            const fullName = document.getElementById('regFullName').value.trim();
            const telegram = document.getElementById('regTelegram').value.trim();

            if (supabase) {
                const { data: existing } = await supabase
                    .from('users')
                    .select('id')
                    .eq('phone', phone)
                    .limit(1)
                    .maybeSingle();
                if (existing) {
                    showToast('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω!', 'error');
                    return;
                }
                const { error } = await supabase.from('users').insert({
                    full_name: fullName,
                    phone,
                    telegram,
                    password_hash: hashedPass,
                    is_admin: false
                });
                if (error) {
                    showToast('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: ' + error.message, 'error');
                    return;
                }
            } else {
                if (users.find(u => u.phone === phone)) {
                    showToast('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω!', 'error');
                    return;
                }
                users.push({
                    fullName,
                    phone,
                    telegram,
                    password: hashedPass,
                    isAdmin: false,
                    registeredAt: new Date().toISOString()
                });
                saveUsers();
            }

            showToast('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É.', 'success');
            showLogin();
            document.getElementById('registerForm').reset();
        });

        // –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const phone = document.getElementById('loginPhone').value.trim();
            const password = document.getElementById('loginPassword').value;
            const hashedPass = await hashPassword(password);
            let finalUser = null;

            if (supabase) {
                const { data, error } = await supabase
                    .from('users')
                    .select('*')
                    .eq('phone', phone)
                    .eq('password_hash', hashedPass)
                    .maybeSingle();
                if (error || !data) {
                    showToast('–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å!', 'error');
                    return;
                }
                finalUser = {
                    fullName: data.full_name,
                    phone: data.phone,
                    telegram: data.telegram,
                    isAdmin: data.is_admin
                };
            } else {
                const user = users.find(u => u.phone === phone && u.password === hashedPass);
                if (!user && phone === 'admin') {
                    const legacyAdmin = users.find(u => u.phone === 'admin' && u.password === 'admin');
                    if (legacyAdmin && password === 'admin') {
                        legacyAdmin.password = await hashPassword('admin');
                        saveUsers();
                    }
                }
                finalUser = users.find(u => u.phone === phone && u.password === hashedPass);
                if (!finalUser) {
                    showToast('–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å!', 'error');
                    return;
                }
            }

            currentUser = finalUser;
            await initData();
            if (finalUser.isAdmin) {
                await showAdminPanel();
            } else {
                await showClientPanel();
            }
            document.getElementById('loginForm').reset();
        });

        /* =============================
           SUPABASE HELPERS (orders/settings)
        ==============================*/
        async function fetchSettings() {
            if (supabase) {
                const { data, error } = await supabase
                    .from('settings')
                    .select('*')
                    .order('created_at', { ascending: false })
                    .limit(1)
                    .maybeSingle();
                if (error) {
                    console.warn('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Supabase:', error.message);
                }
                if (data) {
                    settings = {
                        yuanRate: data.yuan_rate ?? settings.yuanRate,
                        kgPrice: data.kg_price ?? settings.kgPrice,
                        costYuan: data.cost_yuan ?? settings.costYuan,
                        costKg: data.cost_kg ?? settings.costKg,
                        taxPercent: data.tax_percent ?? settings.taxPercent,
                        deliveryMethods: data.delivery_methods || settings.deliveryMethods,
                        paymentDetails: data.payment_details || settings.paymentDetails,
                        forbiddenItems: data.forbidden_items || settings.forbiddenItems
                    };
                } else {
                    // –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–µ—Ç –≤ –ë–î ‚Äî —Å–æ–∑–¥–∞—ë–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                    await supabase.from('settings').insert({
                        yuan_rate: settings.yuanRate,
                        kg_price: settings.kgPrice,
                        cost_yuan: settings.costYuan,
                        cost_kg: settings.costKg,
                        tax_percent: settings.taxPercent,
                        delivery_methods: settings.deliveryMethods,
                        payment_details: settings.paymentDetails,
                        forbidden_items: settings.forbiddenItems
                    });
                }
            } else {
                const storedSettings = localStorage.getItem('settings');
                if (storedSettings) {
                    settings = JSON.parse(storedSettings);
                }
            }
        }

        async function persistSettings() {
            if (supabase) {
                const { error } = await supabase.from('settings').upsert({
                    id: 1,
                    yuan_rate: settings.yuanRate,
                    kg_price: settings.kgPrice,
                    cost_yuan: settings.costYuan,
                    cost_kg: settings.costKg,
                    tax_percent: settings.taxPercent,
                    delivery_methods: settings.deliveryMethods,
                    payment_details: settings.paymentDetails,
                    forbidden_items: settings.forbiddenItems,
                    updated_at: new Date().toISOString()
                });
                if (error) console.error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:', error.message);
            } else {
                saveSettings();
            }
        }

        function parseOrderRow(row) {
            return {
                id: row.order_number,
                userId: row.user_id,
                userName: row.user_name,
                userTelegram: row.user_telegram,
                deliveryMethod: row.delivery_method,
                deliveryDetails: row.delivery_details || {},
                products: row.products || [],
                totalSum: Number(row.total_sum || 0),
                receipt: row.receipt || null,
                deliveryCost: row.delivery_cost === null ? null : Number(row.delivery_cost),
                totalToPay: row.total_to_pay === null ? null : Number(row.total_to_pay),
                deliveryReceipt: row.delivery_receipt || null,
                totalWeight: Number(row.total_weight || 0),
                productPhotos: row.product_photos || [],
                status: row.status || '–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã',
                createdAt: row.created_at || new Date().toISOString()
            };
        }

        function prepareOrderRow(order) {
            return {
                order_number: order.id,
                user_id: order.userId,
                user_name: order.userName,
                user_telegram: order.userTelegram,
                delivery_method: order.deliveryMethod,
                delivery_details: order.deliveryDetails || {},
                products: order.products || [],
                total_sum: order.totalSum || 0,
                receipt: order.receipt || null,
                delivery_cost: order.deliveryCost === undefined ? null : order.deliveryCost,
                total_to_pay: order.totalToPay === undefined ? null : order.totalToPay,
                delivery_receipt: order.deliveryReceipt || null,
                total_weight: order.totalWeight || 0,
                product_photos: order.productPhotos || [],
                status: order.status || '–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã',
                created_at: order.createdAt || new Date().toISOString()
            };
        }

        async function fetchOrders() {
            if (supabase) {
                const { data, error } = await supabase
                    .from('orders')
                    .select('*')
                    .order('created_at', { ascending: true });
                if (error) {
                    console.warn('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–∫–∞–∑–æ–≤ Supabase:', error.message);
                    return;
                }
                orders = (data || []).map(parseOrderRow);
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—á—ë—Ç—á–∏–∫ –ø–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É –Ω–æ–º–µ—Ä—É
                const maxNum = orders.reduce((max, o) => {
                    const n = parseInt((o.id || '').replace('BY-', '')) || 0;
                    return Math.max(max, n);
                }, 0);
                orderCounter = Math.max(orderCounter, maxNum);
            } else {
                const storedOrders = localStorage.getItem('orders');
                if (storedOrders) {
                    orders = JSON.parse(storedOrders);
                    const maxNum = orders.reduce((max, o) => {
                        const n = parseInt((o.id || '').replace('BY-', '')) || 0;
                        return Math.max(max, n);
                    }, 0);
                    orderCounter = Math.max(orderCounter, maxNum);
                }
            }
        }

        async function persistOrder(order) {
            if (supabase) {
                const row = prepareOrderRow(order);
                const { error } = await supabase.from('orders').upsert(row);
                if (error) console.error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–∫–∞–∑:', error.message);
            } else {
                saveOrders();
            }
        }

        async function deleteOrder(orderId) {
            orders = orders.filter(o => o.id !== orderId);
            if (supabase) {
                const { error } = await supabase.from('orders').delete().eq('order_number', orderId);
                if (error) console.error('–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å –∑–∞–∫–∞–∑:', error.message);
            } else {
                saveOrders();
            }
        }

        async function initData() {
            await fetchSettings();
            await fetchOrders();
            // orderCounter –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
            const storedCounter = parseInt(localStorage.getItem('orderCounter') || '0', 10);
            orderCounter = Math.max(orderCounter, storedCounter);
        }

        /* =============================
           CLIENT PANEL
        ==============================*/

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞–Ω–µ–ª—å –∫–ª–∏–µ–Ω—Ç–∞
        async function showClientPanel() {
            hideAllViews();
            await fetchSettings();
            await fetchOrders();
            document.getElementById('clientView').classList.remove('hidden');
            document.getElementById('clientName').textContent = currentUser.fullName;

            const deliverySelect = document.getElementById('deliveryMethod');
            deliverySelect.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏</option>';
            settings.deliveryMethods.forEach(method => {
                deliverySelect.innerHTML += `<option value="${method}">${method}</option>`;
            });

            document.getElementById('displayYuanRate').textContent = settings.yuanRate;

            const forbiddenWarning = document.getElementById('forbiddenItemsWarning');
            const forbiddenList = document.getElementById('forbiddenItemsList');
            if (settings.forbiddenItems && settings.forbiddenItems.length > 0) {
                forbiddenWarning.classList.remove('hidden');
                forbiddenList.innerHTML = settings.forbiddenItems.map(item => `<li>${item}</li>`).join('');
            } else {
                forbiddenWarning.classList.add('hidden');
            }

            document.getElementById('productsContainer').innerHTML = '';
            addProductRow();

            loadClientOrders();
        }

        // –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É —Ç–æ–≤–∞—Ä–∞
        function addProductRow() {
            const container = document.getElementById('productsContainer');
            const index = container.children.length;

            const productRow = document.createElement('div');
            productRow.className = 'border p-4 rounded-lg bg-white';
            productRow.innerHTML = `
                <div class="flex justify-between items-center mb-3">
                    <h4 class="font-semibold">–¢–æ–≤–∞—Ä ${index + 1}</h4>
                    ${index > 0 ? `<button type="button" onclick="removeProductRow(this)" class="text-red-500 hover:text-red-700 text-sm">–£–¥–∞–ª–∏—Ç—å</button>` : ''}
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div class="md:col-span-2">
                        <label class="block text-sm font-medium mb-1">–°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä *</label>
                        <input type="url" required class="product-link w-full px-3 py-2 border rounded-lg text-sm" placeholder="https://...">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">–¶–µ–Ω–∞ (—é–∞–Ω–∏) *</n